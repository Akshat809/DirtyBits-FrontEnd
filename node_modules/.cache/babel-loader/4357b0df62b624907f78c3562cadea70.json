{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _MonacoContainer = _interopRequireDefault(require(\"../MonacoContainer\"));\n\nvar _utils = require(\"../utils\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _themes = _interopRequireDefault(require(\"../config/themes\"));\n\nvar DiffEditor = function DiffEditor(_ref) {\n  var original = _ref.original,\n      modified = _ref.modified,\n      language = _ref.language,\n      originalLanguage = _ref.originalLanguage,\n      modifiedLanguage = _ref.modifiedLanguage,\n      editorDidMount = _ref.editorDidMount,\n      theme = _ref.theme,\n      width = _ref.width,\n      height = _ref.height,\n      loading = _ref.loading,\n      options = _ref.options,\n      className = _ref.className,\n      wrapperClassName = _ref.wrapperClassName;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      isEditorReady = _useState2[0],\n      setIsEditorReady = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      isMonacoMounting = _useState4[0],\n      setIsMonacoMounting = _useState4[1];\n\n  var editorRef = (0, _react.useRef)();\n  var monacoRef = (0, _react.useRef)();\n  var containerRef = (0, _react.useRef)();\n  (0, _hooks.useMount)(function () {\n    var cancelable = _utils.monaco.init();\n\n    cancelable.then(function (monaco) {\n      return (monacoRef.current = monaco) && setIsMonacoMounting(false);\n    }).catch(function (error) {\n      return (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error);\n    });\n    return function () {\n      return editorRef.current ? disposeEditor() : cancelable.cancel();\n    };\n  });\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.getModel().modified.setValue(modified);\n  }, [modified], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.getModel().original.setValue(original);\n  }, [original], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    var _editorRef$current$ge = editorRef.current.getModel(),\n        original = _editorRef$current$ge.original,\n        modified = _editorRef$current$ge.modified;\n\n    monacoRef.current.editor.setModelLanguage(original, originalLanguage || language);\n    monacoRef.current.editor.setModelLanguage(modified, modifiedLanguage || language);\n  }, [language, originalLanguage, modifiedLanguage], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  var setModels = (0, _react.useCallback)(function () {\n    var originalModel = monacoRef.current.editor.createModel(original, originalLanguage || language);\n    var modifiedModel = monacoRef.current.editor.createModel(modified, modifiedLanguage || language);\n    editorRef.current.setModel({\n      original: originalModel,\n      modified: modifiedModel\n    });\n  }, [language, modified, modifiedLanguage, original, originalLanguage]);\n  var createEditor = (0, _react.useCallback)(function () {\n    editorRef.current = monacoRef.current.editor.createDiffEditor(containerRef.current, (0, _objectSpread2.default)({\n      automaticLayout: true\n    }, options));\n    setModels();\n\n    var _editorRef$current$ge2 = editorRef.current.getModel(),\n        original = _editorRef$current$ge2.original,\n        modified = _editorRef$current$ge2.modified;\n\n    editorDidMount(modified.getValue.bind(modified), original.getValue.bind(original), editorRef.current);\n    monacoRef.current.editor.defineTheme('dark', _themes.default['night-dark']);\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [editorDidMount, options, theme, setModels]);\n  (0, _react.useEffect)(function () {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  var disposeEditor = function disposeEditor() {\n    return editorRef.current.dispose();\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_MonacoContainer.default, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperClassName: wrapperClassName\n  });\n};\n\nDiffEditor.propTypes = {\n  original: _propTypes.default.string,\n  modified: _propTypes.default.string,\n  language: _propTypes.default.string,\n  originalLanguage: _propTypes.default.string,\n  modifiedLanguage: _propTypes.default.string,\n  editorDidMount: _propTypes.default.func,\n  theme: _propTypes.default.string,\n  width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  loading: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\n  options: _propTypes.default.object,\n  className: _propTypes.default.string,\n  wrapperClassName: _propTypes.default.string\n};\nDiffEditor.defaultProps = {\n  editorDidMount: _utils.noop,\n  theme: 'light',\n  width: '100%',\n  height: '100%',\n  loading: 'Loading...',\n  options: {}\n};\nvar _default = DiffEditor;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Mohit/Desktop/New folder/DirtyBits-FrontEnd/node_modules/@monaco-editor/react/lib/DiffEditor/DiffEditor.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_objectSpread2","_slicedToArray2","_react","_propTypes","_MonacoContainer","_utils","_hooks","_themes","DiffEditor","_ref","original","modified","language","originalLanguage","modifiedLanguage","editorDidMount","theme","width","height","loading","options","className","wrapperClassName","_useState","useState","_useState2","isEditorReady","setIsEditorReady","_useState3","_useState4","isMonacoMounting","setIsMonacoMounting","editorRef","useRef","monacoRef","containerRef","useMount","cancelable","monaco","init","then","current","catch","error","type","console","disposeEditor","cancel","useUpdate","getModel","setValue","_editorRef$current$ge","editor","setModelLanguage","setTheme","updateOptions","setModels","useCallback","originalModel","createModel","modifiedModel","setModel","createEditor","createDiffEditor","automaticLayout","_editorRef$current$ge2","getValue","bind","defineTheme","useEffect","dispose","createElement","propTypes","string","func","oneOfType","number","element","object","defaultProps","noop","_default"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\n\r\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\r\n\r\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\r\n\r\nvar _react = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\r\n\r\nvar _MonacoContainer = _interopRequireDefault(require(\"../MonacoContainer\"));\r\n\r\nvar _utils = require(\"../utils\");\r\n\r\nvar _hooks = require(\"../hooks\");\r\n\r\nvar _themes = _interopRequireDefault(require(\"../config/themes\"));\r\n\r\nvar DiffEditor = function DiffEditor(_ref) {\r\n  var original = _ref.original,\r\n      modified = _ref.modified,\r\n      language = _ref.language,\r\n      originalLanguage = _ref.originalLanguage,\r\n      modifiedLanguage = _ref.modifiedLanguage,\r\n      editorDidMount = _ref.editorDidMount,\r\n      theme = _ref.theme,\r\n      width = _ref.width,\r\n      height = _ref.height,\r\n      loading = _ref.loading,\r\n      options = _ref.options,\r\n      className = _ref.className,\r\n      wrapperClassName = _ref.wrapperClassName;\r\n\r\n  var _useState = (0, _react.useState)(false),\r\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\r\n      isEditorReady = _useState2[0],\r\n      setIsEditorReady = _useState2[1];\r\n\r\n  var _useState3 = (0, _react.useState)(true),\r\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\r\n      isMonacoMounting = _useState4[0],\r\n      setIsMonacoMounting = _useState4[1];\r\n\r\n  var editorRef = (0, _react.useRef)();\r\n  var monacoRef = (0, _react.useRef)();\r\n  var containerRef = (0, _react.useRef)();\r\n  (0, _hooks.useMount)(function () {\r\n    var cancelable = _utils.monaco.init();\r\n\r\n    cancelable.then(function (monaco) {\r\n      return (monacoRef.current = monaco) && setIsMonacoMounting(false);\r\n    }).catch(function (error) {\r\n      return (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error);\r\n    });\r\n    return function () {\r\n      return editorRef.current ? disposeEditor() : cancelable.cancel();\r\n    };\r\n  });\r\n  (0, _hooks.useUpdate)(function () {\r\n    editorRef.current.getModel().modified.setValue(modified);\r\n  }, [modified], isEditorReady);\r\n  (0, _hooks.useUpdate)(function () {\r\n    editorRef.current.getModel().original.setValue(original);\r\n  }, [original], isEditorReady);\r\n  (0, _hooks.useUpdate)(function () {\r\n    var _editorRef$current$ge = editorRef.current.getModel(),\r\n        original = _editorRef$current$ge.original,\r\n        modified = _editorRef$current$ge.modified;\r\n\r\n    monacoRef.current.editor.setModelLanguage(original, originalLanguage || language);\r\n    monacoRef.current.editor.setModelLanguage(modified, modifiedLanguage || language);\r\n  }, [language, originalLanguage, modifiedLanguage], isEditorReady);\r\n  (0, _hooks.useUpdate)(function () {\r\n    monacoRef.current.editor.setTheme(theme);\r\n  }, [theme], isEditorReady);\r\n  (0, _hooks.useUpdate)(function () {\r\n    editorRef.current.updateOptions(options);\r\n  }, [options], isEditorReady);\r\n  var setModels = (0, _react.useCallback)(function () {\r\n    var originalModel = monacoRef.current.editor.createModel(original, originalLanguage || language);\r\n    var modifiedModel = monacoRef.current.editor.createModel(modified, modifiedLanguage || language);\r\n    editorRef.current.setModel({\r\n      original: originalModel,\r\n      modified: modifiedModel\r\n    });\r\n  }, [language, modified, modifiedLanguage, original, originalLanguage]);\r\n  var createEditor = (0, _react.useCallback)(function () {\r\n    editorRef.current = monacoRef.current.editor.createDiffEditor(containerRef.current, (0, _objectSpread2.default)({\r\n      automaticLayout: true\r\n    }, options));\r\n    setModels();\r\n\r\n    var _editorRef$current$ge2 = editorRef.current.getModel(),\r\n        original = _editorRef$current$ge2.original,\r\n        modified = _editorRef$current$ge2.modified;\r\n\r\n    editorDidMount(modified.getValue.bind(modified), original.getValue.bind(original), editorRef.current);\r\n    monacoRef.current.editor.defineTheme('dark', _themes.default['night-dark']);\r\n    monacoRef.current.editor.setTheme(theme);\r\n    setIsEditorReady(true);\r\n  }, [editorDidMount, options, theme, setModels]);\r\n  (0, _react.useEffect)(function () {\r\n    !isMonacoMounting && !isEditorReady && createEditor();\r\n  }, [isMonacoMounting, isEditorReady, createEditor]);\r\n\r\n  var disposeEditor = function disposeEditor() {\r\n    return editorRef.current.dispose();\r\n  };\r\n\r\n  return /*#__PURE__*/_react.default.createElement(_MonacoContainer.default, {\r\n    width: width,\r\n    height: height,\r\n    isEditorReady: isEditorReady,\r\n    loading: loading,\r\n    _ref: containerRef,\r\n    className: className,\r\n    wrapperClassName: wrapperClassName\r\n  });\r\n};\r\n\r\nDiffEditor.propTypes = {\r\n  original: _propTypes.default.string,\r\n  modified: _propTypes.default.string,\r\n  language: _propTypes.default.string,\r\n  originalLanguage: _propTypes.default.string,\r\n  modifiedLanguage: _propTypes.default.string,\r\n  editorDidMount: _propTypes.default.func,\r\n  theme: _propTypes.default.string,\r\n  width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\r\n  height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\r\n  loading: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\r\n  options: _propTypes.default.object,\r\n  className: _propTypes.default.string,\r\n  wrapperClassName: _propTypes.default.string\r\n};\r\nDiffEditor.defaultProps = {\r\n  editorDidMount: _utils.noop,\r\n  theme: 'light',\r\n  width: '100%',\r\n  height: '100%',\r\n  loading: 'Loading...',\r\n  options: {}\r\n};\r\nvar _default = DiffEditor;\r\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}