{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _MonacoContainer = _interopRequireDefault(require(\"../MonacoContainer\"));\n\nvar _utils = require(\"../utils\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _themes = _interopRequireDefault(require(\"../config/themes\"));\n\nvar Editor = function Editor(_ref) {\n  var value = _ref.value,\n      language = _ref.language,\n      editorDidMount = _ref.editorDidMount,\n      theme = _ref.theme,\n      line = _ref.line,\n      width = _ref.width,\n      height = _ref.height,\n      loading = _ref.loading,\n      options = _ref.options,\n      overrideServices = _ref.overrideServices,\n      _isControlledMode = _ref._isControlledMode,\n      className = _ref.className,\n      wrapperClassName = _ref.wrapperClassName;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      isEditorReady = _useState2[0],\n      setIsEditorReady = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      isMonacoMounting = _useState4[0],\n      setIsMonacoMounting = _useState4[1];\n\n  var editorRef = (0, _react.useRef)();\n  var monacoRef = (0, _react.useRef)();\n  var containerRef = (0, _react.useRef)();\n  (0, _hooks.useMount)(function () {\n    var cancelable = _utils.monaco.init();\n\n    cancelable.then(function (monaco) {\n      return (monacoRef.current = monaco) && setIsMonacoMounting(false);\n    }).catch(function (error) {\n      return (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error);\n    });\n    return function () {\n      return editorRef.current ? disposeEditor() : cancelable.cancel();\n    };\n  });\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    if (editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly)) {\n      editorRef.current.setValue(value);\n    } else {\n      if (value !== editorRef.current.getValue()) {\n        editorRef.current.executeEdits('', [{\n          range: editorRef.current.getModel().getFullModelRange(),\n          text: value\n        }]);\n\n        if (_isControlledMode) {\n          var model = editorRef.current.getModel();\n          model.forceTokenization(model.getLineCount());\n        }\n\n        editorRef.current.pushUndoStop();\n      }\n    }\n  }, [value], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    // set last value by .setValue method before changing the language\n    editorRef.current.setValue(value);\n    monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(), language);\n  }, [language], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.setScrollPosition({\n      scrollTop: line\n    });\n  }, [line], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  var createEditor = (0, _react.useCallback)(function () {\n    editorRef.current = monacoRef.current.editor.create(containerRef.current, (0, _objectSpread2.default)({\n      value: value,\n      language: language,\n      automaticLayout: true\n    }, options), overrideServices);\n    editorDidMount(editorRef.current.getValue.bind(editorRef.current), editorRef.current);\n    monacoRef.current.editor.defineTheme('dark', _themes.default['night-dark']);\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [editorDidMount, language, options, overrideServices, theme, value]);\n  (0, _react.useEffect)(function () {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  var disposeEditor = function disposeEditor() {\n    return editorRef.current.dispose();\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_MonacoContainer.default, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperClassName: wrapperClassName\n  });\n};\n\nEditor.propTypes = {\n  value: _propTypes.default.string,\n  language: _propTypes.default.string,\n  editorDidMount: _propTypes.default.func,\n  theme: _propTypes.default.string,\n  line: _propTypes.default.number,\n  width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  loading: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\n  options: _propTypes.default.object,\n  className: _propTypes.default.string,\n  wrapperClassName: _propTypes.default.string,\n  overrideServices: _propTypes.default.object,\n  _isControlledMode: _propTypes.default.bool\n};\nEditor.defaultProps = {\n  editorDidMount: _utils.noop,\n  theme: 'light',\n  width: '100%',\n  height: '100%',\n  loading: 'Loading...',\n  options: {},\n  overrideServices: {},\n  _isControlledMode: false\n};\nvar _default = Editor;\nexports.default = _default;","map":{"version":3,"sources":["D:/DirtyBits-Complete/DirtyBits-FrontEnd/node_modules/@monaco-editor/react/lib/Editor/Editor.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_objectSpread2","_slicedToArray2","_react","_propTypes","_MonacoContainer","_utils","_hooks","_themes","Editor","_ref","language","editorDidMount","theme","line","width","height","loading","options","overrideServices","_isControlledMode","className","wrapperClassName","_useState","useState","_useState2","isEditorReady","setIsEditorReady","_useState3","_useState4","isMonacoMounting","setIsMonacoMounting","editorRef","useRef","monacoRef","containerRef","useMount","cancelable","monaco","init","then","current","catch","error","type","console","disposeEditor","cancel","useUpdate","updateOptions","getOption","editor","EditorOption","readOnly","setValue","getValue","executeEdits","range","getModel","getFullModelRange","text","model","forceTokenization","getLineCount","pushUndoStop","setModelLanguage","setScrollPosition","scrollTop","setTheme","createEditor","useCallback","create","automaticLayout","bind","defineTheme","useEffect","dispose","createElement","propTypes","string","func","number","oneOfType","element","object","bool","defaultProps","noop","_default"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\n\r\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\r\n\r\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\r\n\r\nvar _react = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\r\n\r\nvar _MonacoContainer = _interopRequireDefault(require(\"../MonacoContainer\"));\r\n\r\nvar _utils = require(\"../utils\");\r\n\r\nvar _hooks = require(\"../hooks\");\r\n\r\nvar _themes = _interopRequireDefault(require(\"../config/themes\"));\r\n\r\nvar Editor = function Editor(_ref) {\r\n  var value = _ref.value,\r\n      language = _ref.language,\r\n      editorDidMount = _ref.editorDidMount,\r\n      theme = _ref.theme,\r\n      line = _ref.line,\r\n      width = _ref.width,\r\n      height = _ref.height,\r\n      loading = _ref.loading,\r\n      options = _ref.options,\r\n      overrideServices = _ref.overrideServices,\r\n      _isControlledMode = _ref._isControlledMode,\r\n      className = _ref.className,\r\n      wrapperClassName = _ref.wrapperClassName;\r\n\r\n  var _useState = (0, _react.useState)(false),\r\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\r\n      isEditorReady = _useState2[0],\r\n      setIsEditorReady = _useState2[1];\r\n\r\n  var _useState3 = (0, _react.useState)(true),\r\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\r\n      isMonacoMounting = _useState4[0],\r\n      setIsMonacoMounting = _useState4[1];\r\n\r\n  var editorRef = (0, _react.useRef)();\r\n  var monacoRef = (0, _react.useRef)();\r\n  var containerRef = (0, _react.useRef)();\r\n  (0, _hooks.useMount)(function () {\r\n    var cancelable = _utils.monaco.init();\r\n\r\n    cancelable.then(function (monaco) {\r\n      return (monacoRef.current = monaco) && setIsMonacoMounting(false);\r\n    }).catch(function (error) {\r\n      return (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error);\r\n    });\r\n    return function () {\r\n      return editorRef.current ? disposeEditor() : cancelable.cancel();\r\n    };\r\n  });\r\n  (0, _hooks.useUpdate)(function () {\r\n    editorRef.current.updateOptions(options);\r\n  }, [options], isEditorReady);\r\n  (0, _hooks.useUpdate)(function () {\r\n    if (editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly)) {\r\n      editorRef.current.setValue(value);\r\n    } else {\r\n      if (value !== editorRef.current.getValue()) {\r\n        editorRef.current.executeEdits('', [{\r\n          range: editorRef.current.getModel().getFullModelRange(),\r\n          text: value\r\n        }]);\r\n\r\n        if (_isControlledMode) {\r\n          var model = editorRef.current.getModel();\r\n          model.forceTokenization(model.getLineCount());\r\n        }\r\n\r\n        editorRef.current.pushUndoStop();\r\n      }\r\n    }\r\n  }, [value], isEditorReady);\r\n  (0, _hooks.useUpdate)(function () {\r\n    // set last value by .setValue method before changing the language\r\n    editorRef.current.setValue(value);\r\n    monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(), language);\r\n  }, [language], isEditorReady);\r\n  (0, _hooks.useUpdate)(function () {\r\n    editorRef.current.setScrollPosition({\r\n      scrollTop: line\r\n    });\r\n  }, [line], isEditorReady);\r\n  (0, _hooks.useUpdate)(function () {\r\n    monacoRef.current.editor.setTheme(theme);\r\n  }, [theme], isEditorReady);\r\n  var createEditor = (0, _react.useCallback)(function () {\r\n    editorRef.current = monacoRef.current.editor.create(containerRef.current, (0, _objectSpread2.default)({\r\n      value: value,\r\n      language: language,\r\n      automaticLayout: true\r\n    }, options), overrideServices);\r\n    editorDidMount(editorRef.current.getValue.bind(editorRef.current), editorRef.current);\r\n    monacoRef.current.editor.defineTheme('dark', _themes.default['night-dark']);\r\n    monacoRef.current.editor.setTheme(theme);\r\n    setIsEditorReady(true);\r\n  }, [editorDidMount, language, options, overrideServices, theme, value]);\r\n  (0, _react.useEffect)(function () {\r\n    !isMonacoMounting && !isEditorReady && createEditor();\r\n  }, [isMonacoMounting, isEditorReady, createEditor]);\r\n\r\n  var disposeEditor = function disposeEditor() {\r\n    return editorRef.current.dispose();\r\n  };\r\n\r\n  return /*#__PURE__*/_react.default.createElement(_MonacoContainer.default, {\r\n    width: width,\r\n    height: height,\r\n    isEditorReady: isEditorReady,\r\n    loading: loading,\r\n    _ref: containerRef,\r\n    className: className,\r\n    wrapperClassName: wrapperClassName\r\n  });\r\n};\r\n\r\nEditor.propTypes = {\r\n  value: _propTypes.default.string,\r\n  language: _propTypes.default.string,\r\n  editorDidMount: _propTypes.default.func,\r\n  theme: _propTypes.default.string,\r\n  line: _propTypes.default.number,\r\n  width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\r\n  height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\r\n  loading: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\r\n  options: _propTypes.default.object,\r\n  className: _propTypes.default.string,\r\n  wrapperClassName: _propTypes.default.string,\r\n  overrideServices: _propTypes.default.object,\r\n  _isControlledMode: _propTypes.default.bool\r\n};\r\nEditor.defaultProps = {\r\n  editorDidMount: _utils.noop,\r\n  theme: 'light',\r\n  width: '100%',\r\n  height: '100%',\r\n  loading: 'Loading...',\r\n  options: {},\r\n  overrideServices: {},\r\n  _isControlledMode: false\r\n};\r\nvar _default = Editor;\r\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}